if(typeof fleegix=="undefined"){var fleegix={}}if(typeof $=="undefined"){var $=function(A){return document.getElementById(A)}}var $elem=function(A,E){var C=E||{};var B=document.createElement(A);for(var D in C){B[D]=C[D]}return B};var $text=function(A){return document.createTextNode(A)};fleegix.extend=function(A,B){return function(){A.apply(this,arguments);A.prototype.constructor.apply(this,arguments);B.apply(this,arguments);this.superClass=A;this.subClass=B}};fleegix.mixin=function(E,C){var B;if(typeof C=="function"){B=new C()}else{B=C}var A={};for(var D in B){if(typeof A[D]=="undefined"||baseObjj[D]!=B[D]){E[D]=B[D]}}return E};fleegix.clone=function(C){if(typeof C=="object"){var A;if(typeof C.constructor=="function"){A=new C.constructor()}else{A={}}for(var B in C){if(typeof C[B]=="object"&&C[B]!=null){A[B]=fleegix.clone(C[B])}else{A[B]=C[B]}}}else{A=C}return A};fleegix.agentSniffing=new function(){var B=fleegix;var E=navigator;var A=E.userAgent;var D=E.appVersion;B.isOpera=(A.indexOf("Opera")>-1);B.isKhtml=(D.indexOf("Konqueror")>-1)||(D.indexOf("Safari")>-1);B.isSafari=(D.indexOf("Safari")>-1);B.isMoz=((A.indexOf("Gecko")>-1)&&(!B.isKhtml));B.isFF=false;B.isIE=false;try{if(B.isMoz){B.isFF=(A.indexOf("Firefox")>-1)}if((document.all)&&(!B.isOpera)){B.isIE=(A.indexOf("MSIE ")>-1)}}catch(C){}B.isMac=(A.indexOf("Mac")>-1);B.isUnix=(A.indexOf("Linux")>-1)||(A.indexOf("BSD")>-1)||(A.indexOf("SunOS")>-1);B.isLinux=(A.indexOf("Linux")>-1);B.isWindows=(A.indexOf("Windows")>-1)};fleegix.fx=new function(){function B(G,D,H){var F={};var M=0;var I=0;if(D.blindType=="clip"){M=H=="down"?0:G.offsetHeight;I=H=="down"?G.offsetHeight:0;M=[0,G.offsetWidth,M,0];I=[0,G.offsetWidth,I,0];F.props={clip:[M,I]}}else{if(H=="down"){if(D.endHeight){I=D.endHeight}else{G.style.height="";var J=document.createElement("div");J.position="absolute";J.style.top="-9999999999px";J.style.left="-9999999999px";var K=G.parentNode;var C=K.removeChild(G);J.appendChild(C);document.body.appendChild(J);I=C.offsetHeight;G=J.removeChild(C);var L=document.body.removeChild(J);G.style.height="0px";K.appendChild(G)}M=0}else{M=G.offsetHeight;I=0}F.props={height:[M,I]}}for(var E in D){F[E]=D[E]}F.trans="lightEaseIn";return new fleegix.fx.Effecter(G,F)}function A(F,E,C){var D=C=="in"?0:100;var H=C=="in"?100:0;var I={props:{opacity:[D,H]},trans:"lightEaseIn"};for(var G in E){I[G]=E[G]}return new fleegix.fx.Effecter(F,I)}this.fadeOut=function(E,D){return A(E,D,"out");E.style.visibility="hidden";var C=this.setCssProp(E,"opacity",100)};this.fadeIn=function(E,D){var C=this.setCssProp(E,"opacity",0);E.style.visibility="visible";return A(E,D,"in")};this.blindUp=function(D,C){var E=C||{};E.blindType=E.blindType||"height";return B(D,E,"up")};this.blindDown=function(D,C){var E=C||{};E.blindType=E.blindType||"height";return B(D,E,"down")};this.setCSSProp=function(D,E,C){if(E=="opacity"){if(document.all){D.style.filter="alpha(opacity="+C+")"}else{var F=C/100;D.style.opacity=F}}else{if(E=="clip"||E.toLowerCase().indexOf("color")>-1){D.style[E]=C}else{D.style[E]=document.all?parseInt(C,10)+"px":C+"px"}}return true};this.setCssProp=this.setCSSProp;this.hexPat=/^[#]{0,1}([\w]{1,2})([\w]{1,2})([\w]{1,2})$/;this.hex2rgb=function(G){var C=[];var F=G.match(this.hexPat);if(F){for(var D=1;D<F.length;D++){var E=F[D];E=E.length==1?E+E:E;C.push(parseInt(E,16))}return C}else{throw ("\""+G+"\" not a valid hex value.")}}};fleegix.fx.Effecter=function(B,A){var C=this;this.props=A.props;this.trans=A.trans||"lightEaseIn";this.duration=A.duration||500;this.fps=30;this.startTime=new Date().getTime();this.timeSpent=0;this.doBeforeStart=A.doBeforeStart||null;this.doAfterFinish=A.doAfterFinish||null;this.autoStart=A.autoStart===false?false:true;if(typeof this.transitions[this.trans]!="function"){throw ("\""+this.trans+"\" is not a valid transition.")}this.start=function(){C.id=setInterval(function(){C.doStep.apply(C,[B])},Math.round(1000/C.fps));if(typeof A.doBeforeStart=="function"){C.doBeforeStart()}};if(this.autoStart){this.start()}return this};fleegix.fx.Effecter.prototype.doStep=function(C){var B=new Date().getTime();var D=this.props;if(B<(this.startTime+this.duration)){this.timeSpent=B-this.startTime;for(var A in D){fleegix.fx.setCSSProp(C,A,this.calcCurrVal(A))}}else{for(var A in D){if(A=="clip"){fleegix.fx.setCSSProp(C,A,"rect("+D[A][1].join("px,")+"px)")}else{fleegix.fx.setCSSProp(C,A,D[A][1])}}clearInterval(this.id);if(typeof this.doAfterFinish=="function"){this.doAfterFinish()}}};fleegix.fx.Effecter.prototype.calcCurrVal=function(G){var A=this.props[G][0];var F=this.props[G][1];var I=this.transitions[this.trans];var B;var D;var J;var H;var E;if(G.toLowerCase().indexOf("color")>-1){B=fleegix.fx.hex2rgb(A);D=fleegix.fx.hex2rgb(F);J=[];for(var C=0;C<B.length;C++){H=B[C];E=D[C];J.push(parseInt(I(this.timeSpent,H,(E-H),this.duration),10))}return"rgb("+J.join()+")"}else{if(G=="clip"){B=A;D=F;J=[];for(var C=0;C<B.length;C++){H=B[C];E=D[C];J.push(parseInt(I(this.timeSpent,H,(E-H),this.duration),10))}return"rect("+J.join("px,")+"px)"}else{return I(this.timeSpent,A,(F-A),this.duration)}}};fleegix.fx.Effecter.prototype.transitions={linear:function(B,A,D,C){return D*(B/C)+A},lightEaseIn:function(B,A,D,C){return D*(B/=C)*B+A},lightEaseOut:function(B,A,D,C){return -D*(B/=C)*(B-2)+A},lightEaseInOut:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B+A}return -D/2*((--B)*(B-2)-1)+A},heavyEaseIn:function(B,A,D,C){return D*(B/=C)*B*B+A},heavyEaseOut:function(B,A,D,C){return D*((B=B/C-1)*B*B+1)+A},heavyEaseInOut:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B*B+A}return D/2*((B-=2)*B*B+2)+A}};fleegix.dom=new function(){var A=function(B){if(document.all){if(document.documentElement&&document.documentElement["client"+B]){return document.documentElement["client"+B]}else{return document.body["client"+B]}}else{return window["inner"+B]}};this.getViewportWidth=function(){return A("Width")};this.getViewportHeight=function(){return A("Height")};this.center=function(G){var B=G.offsetWidth;var E=G.offsetHeight;var F=fleegix.dom.getViewportWidth();var H=fleegix.dom.getViewportHeight();var D=parseInt((F/2)-(B/2),10);var C=parseInt((H/2)-(E/2),10);C+=document.documentElement.scrollTop;G.style.left=D+"px";G.style.top=C+"px";return true};this.getOffset=function(D){var C=function(F){var G=0;var E=0;if(F.offsetParent){do{G+=F.offsetLeft;E+=F.offsetTop}while(F=F.offsetParent)}return{left:G,top:E}};var B=null;if(fleegix.isIE||fleegix.isMoz){B=D.getBoundingClientRect()}else{B=C(D)}return B}};fleegix.css=new function(){this.addClass=function(B,A){fleegix.css.removeClass(B,A);var C=B.className;C+=" "+A;C=fleegix.string.trim(C);B.className=C};this.removeClass=function(C,B){var D=C.className;var A="\\b"+B+"\\b";A=new RegExp(A,"g");D=D.replace(A,"");D=D.replace("  "," ");D=fleegix.string.trim(D);C.className=D};this.replaceClass=function(B,A,C){this.removeClass(B,A);this.addClass(B,C)}};fleegix.event=new function(){var B=[];var A={};this.compatibilityMode=false;this.listen=function(){var G=arguments[0];var D=arguments[1];var F=this.compatibilityMode;var E={};var H={};if(typeof arguments[2]=="function"){E.method=arguments[2];H=arguments[3]||{}}else{E.context=arguments[2];E.method=arguments[3];H=arguments[4]||{}}if(!G){throw new Error("fleegix.listen called on an object ("+G+") that does not exist.")}if(D=="onmousewheel"){if(window.addEventListener&&typeof G.onmousewheel=="undefined"){G.onmousewheel=null}}var C;if(this.compatibilityMode){if(G[D]&&G._fleegixEventListenReg){C=G._fleegixEventListenReg[D]}else{C=null}}else{C=G[D]?G[D].listenReg:null}if(!C){C={};C.orig={};C.orig.obj=G;C.orig.methName=D;if(G[D]){C.orig.methCode=G[D]}C.after=[];G[D]=function(){var L=F?G._fleegixEventListenReg[D]:G[D].listenReg;if(!L){if(G["_"+D+"_suppressErrors"]){return false}else{throw new Error("Cannot execute handlers for "+G+"  \""+D+"\". Something (likely another JavaScript library) has removed the fleegix.event.listen handler registry.")}}var I=[];for(var K=0;K<arguments.length;K++){I.push(arguments[K])}if(L.orig.methCode){L.orig.methCode.apply(L.orig.obj,I)}var M=null;if(G.attachEvent||G.nodeType||G.addEventListener){if(!I.length){try{switch(true){case !!(G.ownerDocument):M=G.ownerDocument.parentWindow.event;break;case !!(G.documentElement):M=G.documentElement.ownerDocument.parentWindow.event;break;case !!(G.event):M=G.event;break;default:M=window.event;break}}catch(O){M=window.event}}else{M=I[0]}if(M){if(typeof M.target=="undefined"){M.target=M.srcElement}if(typeof M.srcElement=="undefined"){M.srcElement=M.target}if(M.type=="DOMMouseScroll"||M.type=="mousewheel"){if(M.wheelDelta){M.delta=M.wheelDelta/120}else{if(M.detail){M.delta=-M.detail/3}}}I[0]=M}}for(var K=0;K<L.after.length;K++){var J=L.after[K];var N=null;var P=null;if(!J.context){N=J.method;P=window}else{N=J.context[J.method];P=J.context}if(typeof N!="function"){throw (N+" is not an executable function.")}else{N.apply(P,I)}M=I[0];if(J.stopPropagation){this.stopPropagation(M)}if(J.preventDefault){this.preventDefault(M)}}};if(this.compatibilityMode){if(!G._fleegixEventListenReg){G._fleegixEventListenReg={}}G._fleegixEventListenReg[D]=C}else{G[D].listenReg=C}B.push(C);if(D=="onmousewheel"){if(window.addEventListener){G.addEventListener("DOMMouseScroll",G.onmousewheel,false)}}}C.after.push(E);if(this.compatibilityMode){if(!G._fleegixEventListenReg){G._fleegixEventListenReg={}}G._fleegixEventListenReg[D]=C}else{G[D].listenReg=C}};this.unlisten=function(){var H=arguments[0];var E=arguments[1];var D;if(this.compatibilityMode){if(H[E]&&H._fleegixEventListenReg){D=H._fleegixEventListenReg[E]}else{D=null}}else{D=H[E]?H[E].listenReg:null}var C=null;if(!D){return false}for(var F=0;F<D.after.length;F++){var G=D.after[F];if(typeof arguments[2]=="function"){if(G.method==arguments[2]){D.after.splice(F,1);break}}else{if(G.context==arguments[2]&&G.method==arguments[3]){D.after.splice(F,1);break}}}if(this.compatibilityMode){H._fleegixEventListenReg[E]=D}else{H[E].listenReg=D}};this.flush=function(){for(var C=0;C<B.length;C++){var D=B[C];removeObj=D.orig.obj;removeMethod=D.orig.methName;removeObj[removeMethod]=null}};this.subscribe=function(C,D,E){if(!D){return }if(!A[C]){A[C]={};A[C].audience=[]}else{this.unsubscribe(C,D)}A[C].audience.push([D,E])};this.unsubscribe=function(E,D){if(!D){A[E]=null}else{if(A[E]){var F=A[E].audience;for(var C=0;C<F.length;C++){if(F[C][0]==D){F.splice(C,1)}}}}};this.publish=function(F,G){if(A[F]){var H=A[F].audience;for(var D=0;D<H.length;D++){var C=H[D][0];var E=H[D][1];C[E](G)}}};this.getSrcElementByAttribute=function(D,E){var C;if(D.srcElement){C=D.srcElement}else{if(D.target){C=D.target}}if(!C||typeof C[E]=="undefined"){return null}else{while(!C[E]||C.nodeType==3){if(C.parentNode){C=C.parentNode}else{return null}}}return C};this.getSrcElementId=function(D){var C=this.getSrcElementByAttribute(D,"id")||null;return C.id||null};this.annihilate=function(C){this.stopPropagation(C);this.preventDefault(C)};this.stopPropagation=function(C){if(C.stopPropagation){C.stopPropagation()}else{C.cancelBubble=true}return C};this.preventDefault=function(C){if(C.preventDefault){C.preventDefault()}else{C.returnValue=false}return C};this.suppressHandlerErrors=function(D,C){D["_"+C+"_suppressErrors"]=true}};fleegix.event.listen(window,"onunload",fleegix.event,"flush");fleegix.uri=new function(){var A=this;this.params={};this.getParamHash=function(I){var B=I||A.getQuery();var H={};if(B){var G=B.split("&");for(var F=0;F<G.length;F++){var E=G[F].split("=");var C=E[0];var D=E[1];if(typeof H[C]=="undefined"){H[C]=D}else{if(!(H[C] instanceof Array)){var J=H[C];H[C]=[];H[C].push(J)}H[C].push(D)}}}return H};this.getParam=function(B,E){var D=null;if(E){var C=this.getParamHash(E);D=C[B]}else{D=this.params[B]}return D};this.setParam=function(E,G,F){var D=null;if(F){var C=new RegExp("(^|&)("+E+"=[^&]*)(&|$)");var B=F.match(C);if(B){D=F.replace(B[0],B[1]+E+"="+G+B[3])}else{D=F+"&"+E+"="+G}}else{D=E+"="+G}return D};this.getQuery=function(C){var B=C?C:location.href;return B.split("?")[1]};this.getBase=function(C){var B=C?C:location.href;return B.split("?")[0]};this.params=this.getParamHash()};fleegix.xhr=new function(){this.maxXhrs=5;this.lastReqId=0;this.debug=false;this.defaultTimeoutSeconds=300;this.useDefaultErrHandlerForSync=true;this.responseFormats={TXT:"text",XML:"xml",OBJ:"object"};this.get=function(){var W={};var R=null;var T=Array.prototype.slice.apply(arguments);if(typeof T[0]=="function"){W.async=true;R=T.shift()}else{W.async=false}var S=T.shift();if(typeof T[0]=="object"){var U=T.shift();for(var V in U){W[V]=U[V]}}else{W.responseFormat=T.shift()||"text"}W.handleSuccess=R;W.url=S;return this.doReq(W)};this.doGet=function(){return this.get.apply(this,arguments)};this.post=function(){var X={};var R=null;var T=Array.prototype.slice.apply(arguments);if(typeof T[0]=="function"){X.async=true;R=T.shift()}else{X.async=false}var S=T.shift();var V=T.shift();if(typeof T[0]=="object"){var U=T.shift();for(var W in U){X[W]=U[W]}}else{X.responseFormat=T.shift()||"text"}X.handleSuccess=R;X.url=S;X.data=V;X.method="POST";return this.doReq(X)};this.doPost=function(){return this.post.apply(this,arguments)};this.doReq=function(R){return this.send(R)};this.send=function(V){var S=V||{};var R=new fleegix.xhr.Request();var U=null;for(var T in S){if(S.hasOwnProperty(T)){R[T]=S[T]}}R.method=R.method.toUpperCase();R.id=this.lastReqId;this.lastReqId++;if(R.async){if(Q.length){U=Q.shift()}else{if(F.length<this.maxXhrs){U=B()}}if(U!==null){N(R,U)}else{if(R.uber){J.unshift(R)}else{J.push(R)}}return R.id}else{return N(R)}};this.abort=function(T){var S=P[T];var R=F[S.xhrId];if(R){R.onreadystatechange=function(){};R.abort();S.aborted=true;A(S);return true}else{return false}};this.isReqSuccessful=function(S){var R=S.status;if(!R){return false}if(document.all&&R==1223){R=204}if((R>199&&R<300)||R==304){return true}else{return false}};var H=this;var E=null;var O;var F=[];var J=[];var Q=[];var P={};var M=[];var C=null;var G=null;_processingWatcherId=null;var B=function(U){var T=0;var S=["Msxml2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","Microsoft.XMLHTTP"];var R=null;if(window.XMLHttpRequest){R=new XMLHttpRequest()}else{if(window.ActiveXObject){if(E){R=new ActiveXObject(E)}else{for(var T=0;T<S.length;T++){try{R=new ActiveXObject(S[T]);E=S[T];break}catch(W){}}}}}if(R){if(U){return R}else{F.push(R);var V=F.length-1;return V}}else{throw new Error("Could not create XMLHttpRequest object.")}};var N=function(a,b){var X=null;var Y=null;var S="";var V=null;if(a.async){X=b;Y=F[X];P[a.id]=a;M.unshift(a);a.xhrId=X}else{if(!C){C=B(true)}Y=C;G=a}if(a.preventCache){var T=new Date().getTime();S=a.url.indexOf("?")>-1?a.url+"&preventCache="+T:a.url+"?preventCache="+T}else{S=a.url}if(document.all){Y.abort()}if(a.username&&a.password){Y.open(a.method,S,a.async,a.username,a.password)}else{Y.open(a.method,S,a.async)}if(a.mimeType&&navigator.userAgent.indexOf("MSIE")==-1){Y.overrideMimeType(a.mimeType)}var U=a.headers;for(var W in U){if(U.hasOwnProperty(W)){Y.setRequestHeader(W,U[W])}}if(a.method=="POST"||a.method=="PUT"){a.data=a.data||a.dataPayload;if(!a.data){a.data=""}var R=typeof a.data=="string"?a.data.length:0;Y.setRequestHeader("Content-Length",R);if(typeof a.headers["Content-Type"]=="undefined"){Y.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}}Y.send(a.data);if(_processingWatcherId===null){_processingWatcherId=setTimeout(L,10)}if(!a.async){var Z=D(Y,a);G=null;if(M.length){_processingWatcherId=setTimeout(L,10)}else{_processingWatcherId=null}return Z}};var L=function(){var R=M;var W=new Date().getTime();if(G!==null){return }else{for(var T=0;T<R.length;T++){var U=R[T];var S=F[U.xhrId];var V=((W-U.startTime)>(U.timeoutSeconds*1000));switch(true){case (U.aborted||!S.readyState):M.splice(T,1);break;case V:M.splice(T,1);I(U);break;case (S.readyState==4):M.splice(T,1);D.call(H,S,U);break}}}clearTimeout(_processingWatcherId);if(M.length){_processingWatcherId=setTimeout(L,10)}else{_processingWatcherId=null}};var D=function(R,S){var U;switch(S.responseFormat){case"xml":U=R.responseXML;break;case"object":U=R;break;case"text":default:U=R.responseText;break}if(S.handleAll){S.handleAll(U,S.id)}else{try{switch(true){case H.isReqSuccessful(R):if(S.async){if(!S.handleSuccess){throw new Error("No response handler defined for this request")}else{S.handleSuccess(U,S.id)}}else{return U}break;case (R.status==0):if(H.debug){throw new Error("XMLHttpRequest HTTP status is zero.")}break;case (R.status==O):if(H.debug){throw new Error("XMLHttpRequest HTTP status not set.")}break;default:if(!S.async&&!H.useDefaultErrHandlerForSync){return U}else{if(S.handleErr){S.handleErr(U,S.id)}else{K(R)}}break}}catch(T){throw T}}if(S.async){A(S)}return true};var I=function(R){if(H.abort.apply(H,[R.id])){if(typeof R.handleTimeout=="function"){R.handleTimeout()}else{alert("XMLHttpRequest to "+R.url+" timed out.")}}};var A=function(S){delete P[S.id];if(J.length){var R=J.shift();R.startTime=new Date().getTime();N(R,S.xhrId)}else{Q.push(S.xhrId)}};var K=function(S){var R;try{R=window.open("","errorWin");R.document.body.innerHTML=S.responseText}catch(T){alert("An error occurred, but the error message cannot be displayed because of your browser's pop-up blocker.\nPlease allow pop-ups from this Web site.")}}};fleegix.xhr.Request=function(){this.id=0;this.xhrId=null;this.url=null;this.status=null;this.statusText="";this.method="GET";this.async=true;this.data=null;this.readyState=null;this.responseText=null;this.responseXML=null;this.handleSuccess=null;this.handleErr=null;this.handleAll=null;this.handleTimeout=null;this.responseFormat=fleegix.xhr.responseFormats.TXT;this.mimeType=null;this.username="";this.password="";this.headers=[];this.preventCache=false;this.startTime=new Date().getTime();this.timeoutSeconds=fleegix.xhr.defaultTimeoutSeconds;this.uber=false;this.aborted=false};fleegix.xhr.Request.prototype.setRequestHeader=function(B,A){this.headers.push(B+": "+A)};fleegix.json=new function(){this.serialize=function(B){var C="";switch(typeof B){case"object":if(B===null){return"null"}else{if(B instanceof Array){for(var A=0;A<B.length;A++){if(C){C+=","}C+=fleegix.json.serialize(B[A])}return"["+C+"]"}else{if(typeof B.toString!="undefined"){for(var A in B){if(C){C+=","}C+="\""+A+"\":";if(typeof B[A]=="undefined"){C+="\"undefined\""}else{C+=fleegix.json.serialize(B[A])}}return"{"+C+"}"}}}return C;case"unknown":case"undefined":case"function":return"\"undefined\"";case"string":C+="\""+B.replace(/(["\\])/g,"\\$1").replace(/\r/g,"").replace(/\n/g,"\\n")+"\"";return C;default:return String(B)}}};fleegix.string=new function(){var B=/^\s+/;var A=/\s+$/;var C=/^\s+|\s+$/g;this.toArray=function(F){var D=[];for(var E=0;E<F.length;E++){D[E]=F.substr(E,1)}return D};this.reverse=function(D){return this.toArray(D).reverse().join("")};this.ltrim=function(F,E){var D=E?new RegExp("^"+E+"+"):B;return F.replace(D,"")};this.rtrim=function(F,E){var D=E?new RegExp(E+"+$"):A;return F.replace(D,"")};this.trim=function(F,E){var D=E?new RegExp("^"+E+"+|"+E+"+$","g"):C;return F.replace(D,"")};this.toLowerCaseWithUnderscores=function(D){return D.replace(/([A-Z]+)/g,"_$1").toLowerCase().replace(/^_/,"")};this.deCamelize=function(D){return this.toLowerCaseWithUnderscores(D)};this.toCamelCase=function(D){return D.replace(/_[a-z]{1}/g,function(E){return E.replace("_","").toUpperCase()})};this.camelize=function(D){return this.toCamelCase(D)};this.capitalize=function(D){return D.substr(0,1).toUpperCase()+D.substr(1)};this.escapeXML=function(D){return D.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")};this.unescapeXML=function(D){return D.replace(/&amp;/gm,"&").replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,"\"")}};fleegix.cookie=new function(){this.set=function(B,H,E){var A=E||{};var K="/";var I=0;var G=0;var F=0;var D="";var J=0;if(typeof E=="object"){K=A.path||"/";I=A.days||0;G=A.hours||0;F=A.minutes||0}else{K=E||"/"}J+=I?I*24*60*60*1000:0;J+=G?G*60*60*1000:0;J+=F?F*60*1000:0;if(J){var C=new Date();C.setTime(C.getTime()+J);D="; expires="+C.toGMTString()}else{D=""}document.cookie=B+"="+H+D+"; path="+K};this.get=function(B){var D=B+"=";var A=document.cookie.split(";");for(var C=0;C<A.length;C++){var E=A[C];while(E.charAt(0)==" "){E=E.substring(1,E.length)}if(E.indexOf(D)===0){return E.substring(D.length,E.length)}}return null};this.create=this.set;this.destroy=function(A,C){var B={};B.minutes=-1;if(C){B.path=C}this.set(A,"",B)}};fleegix.form={};fleegix.form.serialize=function(H,B){var G=fleegix.form.toObject(H,B);var A=B||{};var J="";var I=null;if(A.stripTags){I=/<[^>]*>/g}for(var C in G){var N="";var L=G[C];if(L){if(typeof L=="string"){N=A.stripTags?L.replace(I,""):L;J+=C+"="+encodeURIComponent(N)}else{var M="";if(A.collapseMulti){M=",";J+=C+"="}else{M="&"}for(var D=0;D<L.length;D++){N=A.stripTags?L[D].replace(I,""):L[D];N=(!A.collapseMulti)?C+"="+encodeURIComponent(N):encodeURIComponent(N);J+=N+M}J=J.substr(0,J.length-1)}J+="&"}else{if(A.includeEmpty){J+=C+"=&"}}}if(A.deCamelize){if(!fleegix.string){throw new Error("deCamelize option depends on fleegix.string module.")}var F=J.split("&");var K;J="";for(var E=0;E<F.length;E++){K=F[E].split("=");if(K[0]){J+=fleegix.string.deCamelize(K[0])+"="+K[1]+"&"}}}J=J.substr(0,J.length-1);return J};fleegix.form.toObject=function(K,D){var A=D||{};var J={};function H(R,Q){if(R){var P=null;if(typeof R=="string"){P=[];P.push(R)}else{P=R}P.push(Q);return P}else{return Q}}for(var I=0;I<K.elements.length;I++){var F=K.elements[I];if(F.name){var O=F.name.indexOf("[");var C=F.name.indexOf("]");var N="";var B="";var M;var E;if(A.hierarchical&&(O>0)&&(C>2)){N=F.name.substring(0,O);B=F.name.substring(O+1,C);if(typeof J[N]=="undefined"){J[N]={}}M=J[N];E=B}else{M=J;E=F.name}switch(F.type){case"text":case"hidden":case"password":case"textarea":case"select-one":M[E]=F.value;break;case"select-multiple":for(var G=0;G<F.options.length;G++){var L=F.options[G];if(L.selected){M[E]=H(M[E],L.value)}}break;case"radio":if(F.checked){M[E]=F.value}break;case"checkbox":if(F.checked){M[E]=H(M[E],F.value)}break;case"submit":case"reset":case"file":case"image":case"button":if(A.pedantic){M[E]=F.value}break}}}return J};fleegix.form.toHash=fleegix.form.toObject