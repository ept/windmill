<!--
Copyright 2006, Open Source Applications Foundation

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

 <html>
	<head>
		<script type="text/javascript" src="lib/hash.js"></script>
		<script type="text/javascript" src="lib/fleegix.js"></script>
		<script type="text/javascript" src="lib/browserdetect.js"></script>
		<script type="text/javascript" src="lib/getXPath.js"></script>
		<script type="text/javascript" src="wm/windmill.js"></script>
		<script type="text/javascript" src="wm/registry.js"></script>
		<script type="text/javascript" src="wm/service.js"></script>
		<script type="text/javascript" src="controller/controller.js"></script>
		<script type="text/javascript">
			var url = 'controller/mozController.js';

			if (browser.isIE){
				url = 'controller/ieController.js';
			}
			else if(browser.isSafari){
				url = 'controller/safController.js';
			}
			document.write('<script src="', url, '" type="text/javascript"><\/script>');
		</script>
		<script type="text/javascript" src="wm/timing.js"></script>
		<script type="text/javascript" src="wm/performance.js"></script>
		<script type="text/javascript" src="wm/events.js"></script>
		<script type="text/javascript" src="wm/ui.js"></script>
		<script type="text/javascript" src="wm/playback.js"></script>
		<script type="text/javascript" src="wm/remote.js"></script>
		<script type="text/javascript" src="wm/recorder.js"></script>
		<script type="text/javascript" src="wm/domexplorer.js"></script>
		<script type="text/javascript" src="wm/assertexplorer.js"></script>
		<script type="text/javascript" src="wm/results.js"></script>
		<script type="text/javascript" src="wm/xhr.js"></script>
		<script type="text/javascript" src="lib/xpath/misc.js"></script>
		<script type="text/javascript" src="lib/xpath/dom.js"></script>
		<script type="text/javascript" src="lib/xpath/xpath.js"></script>
		<script type="text/javascript" src="wm/windmill-exec.js"></script>
	  <script type="text/javascript" src="lib/helpers.js"></script>
		<script type="text/javascript" src="extensions/extensions.js"></script>

		<script type="text/javascript">
	 		//Timing the load of the first page
			 var load_timer = new TimeObj();
			 load_timer.setName('Loading first page');
	     load_timer.startTime();
			
			//Enabling the ability to start out out a page that requires query parameters
			//By parsing the url they requested and opening it and storing that url
			//Then when we open write the iframe src we can give it the correct starting src attrib
			var urlSTR = window.location.href.replace("/windmill-serv/start.html","");
		  windmill.initURL = urlSTR;
		
			//Set the title
			document.title = 'Windmill Testing Framework: ' + windmill.initURL;
			
		</script>
	</head>
	<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
	<title>Windmill Testing Framework</title>
	
	<body topmargin="0" leftmargin="0" onload="javascript:Load()">
	
	<script type="text/javascript">
		document.write("<div id=\"pagediv\">"+
			"<IFRAME style=\"position:absolute;overflow:auto;width:100%;height:100%;\""+
			"id=\"webapp\" name=\"webapp\" onunload=\"windmill.xhr.loopState = 0;\" onload=\"windmill.loaded()\" "+
			"target=\"_self\" frameborder=0 SRC=\""+windmill.initURL+"\"></iframe></div>");
	</script>

</body>
<html>